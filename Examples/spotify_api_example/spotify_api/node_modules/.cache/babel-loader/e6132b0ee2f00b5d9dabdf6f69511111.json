{"ast":null,"code":"import React from 'react';\nimport _ from 'lodash';\nimport { getParamValues } from '../utils/functions';\nexport default class RedirectPage extends React.Component {\n  componentDidMount() {\n    const {\n      setExpiryTime,\n      history,\n      location\n    } = this.props;\n\n    try {\n      if (_.isEmpty(location.hash)) {\n        return history.push('/dashboard');\n      }\n\n      const access_token = getParamValues(location.hash);\n      const expiryTime = new Date().getTime() + access_token.expires_in * 1000;\n      localStorage.setItem('params', JSON.stringify(access_token));\n      localStorage.setItem('expiry_time', expiryTime);\n      history.push('/dashboard');\n    } catch (error) {\n      history.push('/');\n    }\n  }\n\n  render() {\n    return null;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/dot72/Dropbox/2021F/COEN 424/Project/Symphony/test_programs/spotify_api/src/components/RedirectPage.js"],"names":["React","_","getParamValues","RedirectPage","Component","componentDidMount","setExpiryTime","history","location","props","isEmpty","hash","push","access_token","expiryTime","Date","getTime","expires_in","localStorage","setItem","JSON","stringify","error","render"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,eAAe,MAAMC,YAAN,SAA2BH,KAAK,CAACI,SAAjC,CAA2C;AACtDC,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAAEC,MAAAA,aAAF;AAAiBC,MAAAA,OAAjB;AAA0BC,MAAAA;AAA1B,QAAuC,KAAKC,KAAlD;;AACA,QAAI;AACA,UAAIR,CAAC,CAACS,OAAF,CAAUF,QAAQ,CAACG,IAAnB,CAAJ,EAA8B;AAC1B,eAAOJ,OAAO,CAACK,IAAR,CAAa,YAAb,CAAP;AACH;;AACD,YAAMC,YAAY,GAAGX,cAAc,CAACM,QAAQ,CAACG,IAAV,CAAnC;AACA,YAAMG,UAAU,GAAG,IAAIC,IAAJ,GAAWC,OAAX,KAAuBH,YAAY,CAACI,UAAb,GAA0B,IAApE;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeR,YAAf,CAA/B;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCL,UAApC;AACAP,MAAAA,OAAO,CAACK,IAAR,CAAa,YAAb;AACH,KATD,CASE,OAAOU,KAAP,EAAc;AACZf,MAAAA,OAAO,CAACK,IAAR,CAAa,GAAb;AACH;AACJ;;AACDW,EAAAA,MAAM,GAAG;AACL,WAAO,IAAP;AACH;;AAlBqD","sourcesContent":["import React from 'react';\r\nimport _ from 'lodash';\r\nimport { getParamValues } from '../utils/functions';\r\nexport default class RedirectPage extends React.Component {\r\n    componentDidMount() {\r\n        const { setExpiryTime, history, location } = this.props;\r\n        try {\r\n            if (_.isEmpty(location.hash)) {\r\n                return history.push('/dashboard');\r\n            }\r\n            const access_token = getParamValues(location.hash);\r\n            const expiryTime = new Date().getTime() + access_token.expires_in * 1000;\r\n            localStorage.setItem('params', JSON.stringify(access_token));\r\n            localStorage.setItem('expiry_time', expiryTime);\r\n            history.push('/dashboard');\r\n        } catch (error) {\r\n            history.push('/');\r\n        }\r\n    }\r\n    render() {\r\n        return null;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}